<h1>
    <div ngbDropdown class="d-inline-block">
      <button class="btn btn-primary" id="dropdownBasic1" ngbDropdownToggle><i class="fa fa-list"></i></button>
      <div class="dropdown-menu" aria-labelledby="dropdownBasic1">
        <button *ngFor="let course of dataService.courses" (click)="changeToCourse(course)" class="dropdown-item">{{course.name}}</button>
      </div>
    </div>
    {{course ? course.name : ''}}
</h1>
<table class="table table-bordered table-condensed" *ngIf="course">
    <thead>
        <tr class="headline">
            <th>#</th>
            <th>Datum</th>
            <th>Bemerkung</th>
            <th *ngFor="let hole of course.holes; let holeIndex = index" class="throws">{{holeIndex + 1}}</th>
            <th *ngFor="let lineMetric of matrix.lineMetrics" class="throws">{{lineMetric}}</th>
        </tr>
        <tr *ngFor="let metricLine of matrix.metricLines" class="metric">
            <th></th>
            <th></th>
            <th>{{metricLine.metricName}}</th>
            <th *ngFor="let cell of metricLine.cells; let cellIndex = index" class="throws">{{cell | score:metricLine.fractionDigits}}</th>
        </tr>
    </thead>
    <tbody>
        <ng-template ngFor let-roundLine [ngForOf]="matrix.roundLines" let-roundIndex="index">
            <tr>
                <td>{{matrix.roundOffset + roundIndex + 1}}</td>
                <td>{{roundLine.round.date | date:'dd.MM.yyyy'}}</td>
                <td>{{roundLine.round.comment}}</td>
                <td *ngFor="let cell of roundLine.cells; let cellIndex = index" class="throws" [style.background-color]="colorMap[roundIndex] && colorMap[roundIndex][cellIndex] ? colorMap[roundIndex][cellIndex] : ''">
                    {{cell}}
                </td>
            </tr>
            <tr *ngIf="roundIndex % 10 === 9 && roundIndex > 0" class="headline">
                <th>#</th>
                <th>Datum</th>
                <th>Bemerkung</th>
                <th *ngFor="let hole of course.holes; let holeIndex = index" class="throws">{{holeIndex + 1}}</th>
                <th *ngFor="let lineMetric of matrix.lineMetrics" class="throws">{{lineMetric}}</th>
            </tr>
        </ng-template>
    </tbody>
</table>

<footer class="navbar navbar-toggleable-sm navbar-inverse fixed-bottom">
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#toolbar">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="toolbar" *ngIf="rounds">
        <div [(ngModel)]="configLimit" (ngModelChange)="updateMatrix()" ngbRadioGroup>
            <label class="btn btn-primary"><input type="radio" [value]="5">5</label>
            <label class="btn btn-primary"><input type="radio" [value]="10">10</label>
            <label class="btn btn-primary"><input type="radio" [value]="25">25</label>
            <label class="btn btn-primary"><input type="radio" [value]="rounds.length">all</label>
        </div>
        <div [(ngModel)]="configColorScheme" (ngModelChange)="updateMatrix()" ngbRadioGroup>
            <label class="btn btn-primary"><input type="radio" value="none">none</label>
            <label class="btn btn-primary"><input type="radio" value="par">to Par</label>
            <label class="btn btn-primary"><input type="radio" value="minmax">min/max</label>
            <label class="btn btn-primary"><input type="radio" value="relative">relative</label>
            <label class="btn btn-primary"><input type="radio" value="smooth">smooth</label>
        </div>
    </div>
</footer>